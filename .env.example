# ===========================================
# SaaS Control Deck - 环境配置模板
# ===========================================
# 复制此文件为 .env.local 用于本地开发
# 生产环境请使用 GitHub Secrets 管理敏感信息

# 环境配置
ENVIRONMENT=development
NODE_ENV=development
LOG_LEVEL=DEBUG

# ===========================================
# 前端配置 (Next.js)
# ===========================================

# 基础URL配置
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_URL=http://localhost:9000

# AI集成 (Google Genkit)
NEXT_PUBLIC_GENKIT_ENV=dev
GOOGLE_GENAI_API_KEY=your_google_ai_api_key_here

# Firebase配置 (如果使用)
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id

# ===========================================
# 后端配置 (FastAPI + 微服务)
# ===========================================

# 核心安全
SECRET_KEY=your-super-secret-key-32-chars-minimum-length-required
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# 数据库配置
DATABASE_URL=postgresql+asyncpg://postgres:postgres123@localhost:5432/ai_platform_dev
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_ECHO=false

# Redis配置
REDIS_URL=redis://:redis123@localhost:6379/0
REDIS_MAX_CONNECTIONS=10

# ===========================================
# AI服务配置
# ===========================================

# OpenAI配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000

# Ray分布式计算
RAY_ADDRESS=auto
RAY_WORKER_COUNT=2
RAY_MEMORY_LIMIT=4GB

# ===========================================
# 微服务端口配置
# ===========================================

# Backend Pro1 (默认端口 8000-8099)
API_GATEWAY_PORT=8000
DATA_SERVICE_PORT=8001
AI_SERVICE_PORT=8002

# Backend Pro2 (端口 8100-8199)
API_GATEWAY_PORT_PRO2=8100
DATA_SERVICE_PORT_PRO2=8101
AI_SERVICE_PORT_PRO2=8102

# ===========================================
# 对象存储 (MinIO)
# ===========================================

MINIO_ACCESS_KEY=minio_access_key
MINIO_SECRET_KEY=minio_secret_key_minimum_8_chars
MINIO_BUCKET_NAME=saas-control-deck
MINIO_ENDPOINT=localhost:9000

# ===========================================
# 监控和日志
# ===========================================

# Sentry错误追踪
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# Prometheus监控
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# 结构化日志
LOG_FORMAT=json
LOG_FILE=/var/log/app/app.log

# ===========================================
# 第三方集成
# ===========================================

# 邮件服务 (可选)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# 短信服务 (可选)
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_sid
TWILIO_AUTH_TOKEN=your_twilio_token

# ===========================================
# 开发工具配置
# ===========================================

# 调试配置
DEBUG=true
DEBUG_SQL=false
DEBUG_REDIS=false

# 热重载
WATCH_MODE=true
AUTO_RELOAD=true

# 测试数据
ENABLE_TEST_DATA=true
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=testpass123

# ===========================================
# 部署配置
# ===========================================

# Docker配置
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest

# Vercel配置 (前端部署) - SaaS Control Deck项目
VERCEL_TOKEN=4zDlLan0KNvh3VIRF1FnnE42
VERCEL_ORG_ID=team_5qxA92e7EhxCquOBE7DO3lrP
VERCEL_PROJECT_ID=prj_HDAB1rddjp94awRUhyE0fYLIuHUi

# Vercel部署设置
VERCEL_SCOPE=team_5qxA92e7EhxCquOBE7DO3lrP
VERCEL_ENV=production
VERCEL_BUILD_COMMAND=npm run build
VERCEL_OUTPUT_DIRECTORY=frontend/.next

# 健康检查
HEALTH_CHECK_INTERVAL=30
READY_CHECK_TIMEOUT=10

# ===========================================
# 安全配置
# ===========================================

# CORS配置
CORS_ORIGINS=http://localhost:9000,http://localhost:3000
CORS_CREDENTIALS=true

# 速率限制
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# SSL/TLS (生产环境)
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/app.crt
SSL_KEY_PATH=/etc/ssl/private/app.key

# ===========================================
# 性能优化
# ===========================================

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# 连接池配置
HTTP_TIMEOUT=30
HTTP_MAX_CONNECTIONS=100

# 工作进程配置
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=30

# ===========================================
# 特殊标记 - 请勿修改
# ===========================================

# 这些变量用于CI/CD流程识别
CI_ENVIRONMENT_NAME=local
BUILD_VERSION=dev
DEPLOYMENT_TIMESTAMP=auto